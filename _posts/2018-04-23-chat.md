---
layout: post
title: Чат
---

Пришло время показать, что я делал последний месяц: [chat.ignat.co](http://chat.ignat.co)

Мне предложили тестовое задание, в котором нужно было сделать мессенджер в реальном времени. По условию, приложение должно быть сделано на следующем стеке:
- Сервер на express,
- База данных mongodb,
- Фронтенд на react или angular.

Из вышеперечисленного, на тот момент, я имел отдаленное представление только про экспресс, поэтому поначалу не знал даже с какой стороны подступиться к заданию. Вначале стал вникать по отдельности в нужные библиотеки.

В первую очередь пришлось разобраться, как сделать в приложении взаимодействие нескольких юзеров в реальном времени. Нагуглил для этого библиотеку [socket.io](https://socket.io). У них на сайте [хороший туториал как раз на примере чата](https://socket.io/get-started/chat/).

Потом начал думать, как прикрутить чат к базе данных. Использовал для этого облачный сервис [mongodb atlas](https://www.mongodb.com/cloud/atlas), что сильно упростило жизнь. Создаешь через веб-интерфейс базу и коннектишься к ней из своего приложения через [mongoose](http://mongoosejs.com/), очень удобно.

Когда приложение более-менее заработало, нужно было переписать фронт на специально предназначенном для этого фреймворке, для чего начал изучать реакт. В этом помогли [хекслетовский курс](https://ru.hexlet.io/courses/js-react) и [официальный гайд](https://reactjs.org/tutorial/tutorial.html). Сам реакт оказался не таким страшным, как я себе представлял. Курс на хекслете получилось пройти примерно за неделю. В предыдущих курсах про асинхронность и генераторы столько же времени иногда уходило на отдельные задания.

В конце итоговое задеплоил на digital ocean при помощи [nginx](https://www.nginx.com) и [pm2](http://pm2.keymetrics.io). К сожалению, роскомнадзор на днях начал банить их адреса, из-за чего мой чатик может быть недоступен читателям в РФ. Похоже, что следующим навыком в обучении веб-разработке придется осваивать умение противостоять блокировкам.